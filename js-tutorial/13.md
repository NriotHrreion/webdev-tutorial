# 类与对象

这一节我们将学习类与对象，这部分的内容可能会略显抽象，但多加理解也是可以掌握的。

### 什么是类？

> 类(Class)是面向对象程序设计(Object-Oriented Programming)实现信息封装的基础。类是一种用户定义的引用数据类型，也称类类型。每个类包含数据说明和一组操作数据或传递消息的函数。类的实例称为对象。<br>——百度百科 《类(编程术语)》

如果你看了上面的这段话，觉得不懂，没关系，可以继续往下看。

### 为什么使用类？

Steve McConnell在《代码大全》一书中提出了几个创建类的理由，即：

- 建模现实世界的对象
- 建模抽象对象
- 降低复杂性
- 隔离复杂性
- 隐藏实现细节
- 限制变化造成的影响
- 隐藏全局数据
- 简化参数传递
- 创建中心控制点
- 使代码更容易重用
- 为程序家族做计划
- 打包相关操作
- 实现特定的重构

当然，我们在这几段并不需要掌握这么多它的用处，我们深入了解前几点就可以了。

#### 建模现实世界的对象

在编写程序——尤其是游戏程序时，我们常常需要将现实世界的一些东西建模到代码中，才能对它进行各种操作。那么抽象建模之后的这些"东西"就称为**类**。

#### 建模抽象对象

当我们拥有许多类的时候，我们就需要为这些类"分类"，即抽象。如：狗(Dog)、猫(Cat)、鼠(Mouse)都属于动物(Animal)，而动物和植物(Plant)都属于生物(Creature)。其中，Animal就是对Dog、Cat、Mouse的抽象；Creature就是对Animal和Plant的抽象。

#### 降低复杂性

类可以使代码更加简洁易懂，而不至于乱七八糟，难以维护。类里面包含多个属性和方法，可以起到为属性和方法"分类"的作用；同时，类还可以隐藏信息，使用者可以在不关心内部运作的情况下使用类，从而起到降低复杂性的作用。

### Javascript中的类

在Javascript中，我们可以这样创建一个类：

```js
class Person {
    name;
    age;
    gender;

    constructor(name, age, gender) {
        this.name = name;
        this.age = age;
        this.gender = gender;
    }

    say(words) {
        alert(this.name +" 说: "+ words);
    }
}
```

上面的代码首先用`class`关键字定义了一个类`Person`，接着为这个类添加了三个属性：

```js
name;
age;
gender;
```

这三个属性就被称为**成员属性**(Member Properties)，并且可以在类内部以`this.`的形式被访问。

再下来，我们可以看到类内部定义了一个**类构造器**(Constructor)，构造器可以将类实例化为对象，并初始化这个对象。简单来说就是："类构造器将类构造为对象"。

然后，我们可以看到它还定义了一个`say(words)`的方法，这个方法表示这个人(Person)说了些什么。

?> 一般地，我们将类内的函数称为方法。

### 创建对象

这样，我们就成功定义了一个类。然而，只有类并没有什么卵用，我们还需要将类实例化为对象，才能让它产生作用。我们可以这么创建对象并将其存入变量：

```js
var ming = new Person("小明", 10, "男");
```

可以看到，我们使用了`new`关键字来创建对象。而且，在我们使用`new`的时候，系统会找到`Person`类的构造器，并将我们传给类的参数("小明", 10, "男")传入这个构造器，让它来构造对象。

接下来，我们就可以通过对象调用方法，让小明说话了：

```js
ming.say("你好啊！");
```

![13-1](../img/js-13-1.png)

综上所述，我们可以知道，`Person`是**类**，变量`ming`存储的是**对象**，千万不要混淆！

### `this`关键字

我们前面提到，成员属性可以在类内部以`this.`的形式被访问，那么，`this`又是什么呢？

`this`在代码中其实就是指"这个类实例化之后的对象"，它可以访问当前所在的这个类实例化后的对象中的属性和方法。因此，成员属性可以在类内部通过`this`访问，当然，方法也是。

?> 在后文我们将讲到`this`关键字无法访问到的静态属性和静态方法，它们无法被`this`访问的原因是它们根本就不存在与实例化后的对象中，而是存在于类本身。
